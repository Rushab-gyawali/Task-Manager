@*@model MVCERP.Shared.Common.DbResponse
    @{
        ViewBag.Title = "Index";
        Layout = "~/Views/Shared/MasterLayout.cshtml";
    }
    @section Scripts
    {
        @{
            var resp = MVCERP.Web.Library.StaticData.GetSessionMessage();
            if (null != resp)
            {
                <script type="text/javascript">
                    ManageMessage(@resp.ErrorCode, "@resp.Message");
                </script>
            }
        }
        <script type="text/javascript">
            $(document).ready(function () {
                $('#agentDetails').DataTable({
                    "responsive": true,
                    "processing": true,
                    "serverSide": true,
                    "searchDelay": 1500,
                    "ajax": {
                        "type": 'POST',
                        "dataType": 'json',

                        "url": "/User/GetGridDetails",
                        "contentType": 'application/json; charset=utf-8',
                        'data': function (data) {
                            return data = JSON.stringify(data);
                        }
                    },
                    lengthMenu:
                        [
                            [25, 50, 100],
                            ['25', '50', '100']
                        ],
                    "language": {
                        "search": "",
                        "searchPlaceholder": "Search..."
                    },
                    columns: [
                        { 'data': 'BranchName', "orderable": true },
                        { 'data': 'UserID', "orderable": false },
                        { 'data': 'FullName', "orderable": false },
                        { 'data': 'Email', "orderable": false },
                        { 'data': 'PhoneNo', "orderable": false },
                        { 'data': 'User', "orderable": false },
                        { 'data': 'Action', "orderable": false },

                    ],
                    "columnDefs":
                        [
                            { "className": "dt-center", "targets": "4" },
                            //  { "targets": 1, "className": "text-right" }
                        ]
                });
            });

        </script>
    }

    <script>
        function GetDetailById(id) {

            $("#Username").val();
            $("#dispName").val();
            $("#RoleList").val();
            $.get("/User/AssignRole?id=" + id, function (data, status) {
                $("#Username").val(data.userName);
                $("#dispName").val(data.userName);
                $("#RoleList").val(data.roleId);
                $("#AddModal").modal();

            });
        }

        function changeuserpassword(id) {


            $("#userId").val(id);
            $("#Username").val();
            $("#dispName").val();
            $.get("/User/ChangeuserPassword?id=" + id, function (data, status) {
                $("#ChangePassword").modal();
            });


        }
    </script>

    <div class="container listing-container">
        @Html.Raw(ViewData["BreadCrumb"].ToString())

        <div>
            <div class="modal fade" id="AddModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                 style="display: none;" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                            </button>
                            <h4 class="modal-title" id="myModalLabel">
                                Assign Role
                            </h4>
                        </div>
                        @using (Html.BeginForm("AssignRole", "User", new { ReturnUrl = "Index" }, FormMethod.Post, new { @id = "AssignRole" }))
                        {
                            @Html.AntiForgeryToken()
                            <div class="modal-body">
                                <div class="row">
                                    <div class="form-group">
                                        <div class="col-md-12 ">
                                            @Html.Hidden("Username")
                                            @Html.TextBox("dispName", "", new { @class = "form-control", @disabled = "disabled" })

                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group">
                                        <div class="col-md-12 ">
                                            @Html.DropDownList("RoleList", ViewData["RoleList"] as IEnumerable<SelectListItem>, new { @required = "required", @class = "form-control", })
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal" id="btnClose">
                                        Close
                                    </button>
                                    <button type="submit" class="btn btn-primary"> Save</button>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>

        <div>
            <div class="modal fade" id="ChangePassword" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                 style="display: none;" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                            </button>
                            <h4 class="modal-title" id="myChangePassword">
                                Change Password
                            </h4>
                        </div>
                        @using (Html.BeginForm("Changeuserpassword", "User", new { ReturnUrl = "Index" }, FormMethod.Post, new { @id = "ChangeuserPassword" }))
                        {
                            @Html.AntiForgeryToken()
                            <div class="modal-body">
                                <div class="row">
                                    <div class="form-group">
                                        <div class="col-md-12 ">
                                            @Html.Hidden("userId")
                                            <p> Are You Sure You Want To Change The Password?</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary"> Yes</button>
                                    <button type="button" class="btn btn-default" data-dismiss="modal" id="btnClose">
                                        No
                                    </button>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>








        <div class="panel panel-default">
            <div class="panel-heading list-heading">
                <div class="panel-body list-body">
                    <div class="table-responsive">
                        <table id="agentDetails" class="table table-hover" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>Branch Name</th>
                                    <th>User ID</th>
                                    <th>Full Name</th>
                                    <th>Email</th>
                                    <th>Phone No</th>
                                    <th>Created By</th>
                                    <th>Action</th>

                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>*@






@model MVCERP.Web.Models.UserModel


@{
    ViewBag.Title = "CreateUser";
}
<link href="~/Template/CSS/material-design-iconic-font.min.css" rel="stylesheet" />
<link href="~/Template/CSS/style.css" rel="stylesheet" />
<script src="~/Template/JS/jquery-ui.min.js"></script>
<script src="~/Template/JS/main.js"></script>
<div class="main">

    <!-- Sign up form -->
    <section class="signup">
        <div class="container">
            <div class="signup-content">
                <div class="signup-form">
                    @using (Html.BeginForm("ManageUse", "User", FormMethod.Post, new { @id = "Singupform" }))
                    {
                        <h2 class=" form-title"> Sign Up</h2>
                        <div class="form-group">
                            <label for="FullName"><i class="zmdi zmdi-account material-icons-name"></i></label>
                            @*<input type="text" name="FullName" id="FullName" placeholder="Your Full Name" />*@
                            @Html.TextBoxFor(x => x.FullName, new { @placeholder = "Full Name", @class = "form-control" })
                        </div>
                        <div class="form-group">
                            <label for="UserName"><i class="zmdi zmdi-account material-icons-name"></i></label>
                            @*<input type="text" name="UserName" id="UserName" placeholder="Your User Name" />*@
                            @Html.TextBoxFor(x => x.UserName, new { @placeholder = "User Name", @class = "form-control" })

                        </div>
                        <div class="form-group">
                            <label for="email"><i class="zmdi zmdi-email"></i></label>
                            @*<input type="email" name="email" id="email" placeholder="Your Email" />*@
                            @Html.TextBoxFor(x => x.Email, new { @placeholder = "Email", @class = "form-control" })

                        </div>
                        <div class="form-group">
                            <label for="PhoneNo"><i class="zmdi zmdi-lock"></i></label>
                            @*<input type="number" name="PhoneNo" id="PhoneNo" placeholder="PhoneNumber" />*@
                            @Html.TextBoxFor(x => x.PhoneNo, new { @placeholder = "PhoneNo", @class = "form-control" })

                        </div>
                        <div class="form-group">
                            <label for="password"><i class="zmdi zmdi-lock"></i></label>
                            @*<input type="password" name="pass" id="pass" placeholder="Password" />*@
                            @Html.PasswordFor(x => x.Password, new { @placeholder = "Password", @class = "form-control" })

                        </div>
                        <div class="form-group">
                            <label for="re-pass"><i class="zmdi zmdi-lock-outline"></i></label>
                            @*<input type="password" name="re_pass" id="re_pass" placeholder="Repeat your password" />*@
                            @Html.PasswordFor(x => x.CPassword, new { @placeholder = "Confirm Password ", @class = "form-control" })
                        </div>

                        <div class="form-group form-button">
                            <input type="submit" name="signup" id="signup" class="form-submit" value="signup" />
                        </div>

                    }

                </div>
                <div class="signup-image">

                    <figure> <img src="~/Images/signup-image.jpg" alt="sing up image"></figure>


                </div>
            </div>
        </div>
    </section>
</div>
