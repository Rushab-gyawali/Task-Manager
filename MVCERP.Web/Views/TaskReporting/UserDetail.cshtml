@model MVCERP.Web.Models.TaskReportingModel

@{
    ViewBag.Title = "UserDetail";
    Layout = "~/Views/Shared/MeroTaskMainLayout.cshtml";
}
<link href="~/UI/css/user.profile.css" rel="stylesheet" />
<script src="~/Scripts/jquery-1.8.2.min.js"></script>
<script src="~/UI/MeroTaskDashboard/vendor/datatables/js/jquery.dataTables.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $(document).ready(function () {
            $('#myList').hide();
            
        });
    });
    function userList(status) {
        debugger;
       // $('.dropdown-item').click(function () {
            $('#myList').show();
       // });
        $('#AllTaskList').DataTable({
            "responsive": true,
            "processing": false,
            "serverSide": false,
            "searchDelay": 1500,
            "ajax": {
                "type": 'z',
                "dataType": 'json',
                "url": "/TaskReporting/StatusList" + status,
                "contentType": 'application/json; charset=utf-8',
                'data': function (data) {
                    return data = JSON.stringify(data);
                }
            },
            lengthMenu:
                [
                    [25, 50, 100],
                    ['25', '50', '100']
                ],
            "language": {
                "search": "",
                "searchPlaceholder": "Search..."
            },
            columns: [


                { 'data': 'TaskName', "orderable": true, "searchable": true },
                { 'data': 'TaskStartDate', "orderable": true },
                { 'data': 'TaskEndDate', "orderable": true },
                { 'data': 'TaskDescription', "orderable": true },
                { 'data': 'IsActive', "orderable": true },
                { 'data': 'Status', "orderable": true },
                { 'data': 'CreatedBy', "orderable": false },
                { 'data': 'CreatedDate', "orderable": false },
                { 'data': 'Action', "orderable": false },

            ],
            "columnDefs":
                [
                    { "className": "dt-center", "targets": "4" },
                    //  { "targets": 1, "className": "text-right" }
                ]
        });
    }

</script>

<div class="container">
    <div class="container-fluid">
        <a class="nav-link dropdown-toggle btn-success" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Status
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <div class="dropdown-item" onchange="userList('Assigned Inprogress');">Assigned Inprogress</div>
            <div class="dropdown-item" onclick="userList('Assigned Inprogress');">Completed</div>
            <div class="dropdown-item" onclick="userList('Assigned Inprogress');">Testing</div>
        </div>

    </div>
    <div class="container-fluid">
        <div class="task-list">
            <div class="row">
                <div class="col-md-3 count-status">
                    <div class="widget-stat card">
                        <div class="card-body p-4">
                            <div class="media ai-icon">
                                <div class="mr-3 bgl-primary text-primary">
                                    <!-- <i class="ti-user"></i> -->
                                    <div class="media-body">
                                        <h3 class="mb-0 text-black"><span class="counter ml-0">@ViewBag.statusAssigned</span></h3>
                                        <p class="mb-0">InProgress Task</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="widget-stat card">
                        <div class="card-body p-4">
                            <div class="media ai-icon">
                                <div class="mr-3 bgl-primary text-primary">
                                    <!-- <i class="ti-user"></i> -->

                                    <div class="media-body">
                                        <h3 class="mb-0 text-black"><span class="counter ml-0">@ViewBag.statuscomplete </span></h3>
                                        <p class="mb-0">Completed Task</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="widget-stat card">
                        <div class="card-body p-4">
                            <div class="media ai-icon">
                                <div class="mr-3 bgl-primary text-primary">
                                    <!-- <i class="ti-user"></i> -->

                                    <div class="media-body">
                                        <h3 class="mb-0 text-black"><span class="counter ml-0">@ViewBag.statusTesting</span></h3>
                                        <p class="mb-0">Testing Task</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="widget-stat card">
                        <div class="card-body p-4">
                            <div class="media ai-icon">
                                <div class="mr-3 bgl-primary text-primary">
                                    <!-- <i class="ti-user"></i> -->

                                    <div class="media-body">
                                        <h3 class="mb-0 text-black"><span class="counter ml-0">@ViewBag.statuscount</span></h3>
                                        <p class="mb-0">Total Assigned Task</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--------------------list of user task-------------------->


<div class="container listing-container" id="myList">
    <div class="panel panel-default">
        <div class="panel-heading list-heading">
            <div class="panel-body list-body">
                <div class="table-responsive">

                    <table id="AllTaskList" class="table table-hover" cellspacing="0" width="100%">
                        <thead>
                            <tr>


                                <th>TaskName</th>
                                <th>TaskStartDate</th>
                                <th>TaskEndDate</th>
                                <th>TaskDescription</th>
                                <th>IsActive</th>
                                <th>Status</th>
                                <th>CreatedBy</th>
                                <th>CreatedDate</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>







